# Old IMO #

각 a_1, a_2, ...a_k는 n 이하의 n과 서로소인 자연수들을 작은 것부터 큰 것 순서로 늘어놓은 것이므로 a_1 = 1, k = phi(n) 이다. (phi(n) 은
오일러의 phi 함수 (자신 이하의 자신과 서로소인 자연수의 개수 반환) 를 나타낸다.)

a_(i+1) - a_i은 일정한 값이므로 그 값을 d 라고 하면, 등차수열의 원리에 의해 a_i = 1+ d(i-1) 임을 쉽게 알 수 있다. 
이제 {a_1, a_2, ...a_k} 를 집합 U_n 으로 나타내면, 그것은 밑의 수열이 된다. 밑의 수식들에 U_p 가 많이 보이는데 
사실 U_n을 쓰려다 헷갈려서 U_p로 썼으니 모두 U_n으로 간주하고 읽기 바란다^^  

![1](/woorim/imgs/27_1.gif)

이때, n -1 은 n과 서로소이므로 당연히 a_phi(n) 은 n -1 이다. 따라서, a_1 + a_(phi(n)) = n 이므로 다음이 성립한다.

![3](/woorim/imgs/27_3.gif)

다음 보조정리를 소개하고 넘어가자: U_n의 고정된 a에 대해서, 다음 합동식이 성립하는 U_n의 원소 b가 존재한다.

![4](/woorim/imgs/27_4.gif)

증명은 간단하다. U_n의 원소끼리 서로 곱하고 n에 대해 모듈러를 취하면 그 역시 n과 서로소이므로 U_n의 원소가 되어야 하는데, a와 모든 U_n의 원소
의 곱(+모듈러)이 1 이 되지 않는다면 비둘기집의 원리에 의해서 ab 와 ac 가 모듈러 n에 대해 합동인 b, c가 존재하게 되어 아래 수식에서와 같이 모순이 된다.

![5](/woorim/imgs/27_5.gif)

따라서, 이것을 U_n의 원소 1 + d에 대해서 적용하면 어떤 1_sd 가 U_n에 존재하여 다음이 성립하게 된다.

![6](/woorim/imgs/27_6.gif)

이제 케이스를 나누자. 먼저 d > 3이고 d가 홀수일 경우에는, 위의 n의 식에 따라서 n과 d의 최대공약수는 1이다.  
그러면 다음과 같이 n < n 이라는 부등식이 도출되므로 모순.

![7](/woorim/imgs/27_7.gif)

d > 4 이고 d가 짝수일 경우에는, 역시 위의 n의 식에 따라서 n과 d의 최대공약수는 2 이하이다. (사실 d가 짝수면 최대공약수는 2네..)
이번에도 위와 비슷한 과정을 통해서 모순이다.

![8](/woorim/imgs/27_8.gif)

마지막으로 d = 4라고 가정하자. 그러면, 위 사진의 마지막 부분의 부등식 대신 등식이 성립한다. 따라서 s가 phi(n) - 1이라는 것을 알게 된다. 즉 

![9](/woorim/imgs/27_9.gif)

다음 합동식이 성립하고, n의 식을 대입하여 다음과 같이 n | 6 이라는 결론을 얻는데 문제 가정에서 n > 6이므로 모순.

따라서, d = 1 혹은 2이다. d= 1이면 자명히 n은 소수이고, d = 2이면 n이하의 모든 홀수만이 n과 서로소이므로 d는 2의 자연수 거듭제곱이다.

